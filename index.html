<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>KRYONIS PORTAL — Operations Console</title>
  <meta name="description" content="KRYONIS OPERATIONS CONSOLE — Real-time coherence telemetry and node management." />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600&family=Inter:wght@300;400;500&family=JetBrains+Mono:wght@300;400;500&display=swap" rel="stylesheet">

  <style>
    :root {
      /* DARKEST THEME YET */
      --bg: #010101;
      --bg-panel: rgba(8, 8, 10, 0.65);
      
      --fg: #e1e1e6;
      --fg-dim: #5c616b;
      --fg-muted: #888;

      /* SIGNAL COLORS */
      --gold: #D4AF37;
      --gold-dim: rgba(212, 175, 55, 0.2);
      --alert: #ff3333;
      --ok: #33ff88;
      --tech: #6e8cff;

      --border: rgba(255, 255, 255, 0.08);
      --border-active: rgba(212, 175, 55, 0.4);
      
      --glass: blur(8px);
    }

    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: 'Inter', sans-serif;
      background-color: var(--bg);
      color: var(--fg);
      font-size: 14px;
      line-height: 1.5;
      overflow-x: hidden;
      -webkit-font-smoothing: antialiased;
    }

    /* UTILS */
    .mono { font-family: 'JetBrains Mono', monospace; letter-spacing: -0.02em; }
    .serif { font-family: 'Cinzel', serif; }
    .caps { text-transform: uppercase; letter-spacing: 0.1em; }
    .text-gold { color: var(--gold); }
    .text-ok { color: var(--ok); }
    .text-tech { color: var(--tech); }
    .text-dim { color: var(--fg-dim); }
    
    /* LAYOUT & GRID */
    .wrapper {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 1.5rem;
      position: relative;
      z-index: 10;
    }

    /* NOISE & BG */
    .noise {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      pointer-events: none; z-index: 900; opacity: 0.06;
      background: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.7' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
    }
    #radar-canvas {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      z-index: -1; opacity: 0.3;
    }

    /* HUD LINES (Decorative) */
    .hud-line {
      position: fixed; background: rgba(255,255,255,0.03); z-index: 0;
    }
    .hud-v { width: 1px; height: 100%; top: 0; }
    .hud-h { height: 1px; width: 100%; left: 0; }

    /* HEADER - FIXED FOR MOBILE */
    header {
      position: fixed; top: 0; width: 100%; z-index: 100;
      background: rgba(1,1,1,0.9); backdrop-filter: blur(12px);
      border-bottom: 1px solid var(--border);
      height: 70px; display: flex; align-items: center;
    }
    .top-bar {
      display: flex; justify-content: space-between; width: 100%; align-items: center;
      gap: 1rem;
    }
    
    .brand-area { display: flex; align-items: center; gap: 1rem; }
    
    .clock-area { 
      text-align: right; 
      display: flex; 
      align-items: center; 
      gap: 1.5rem; 
    }

    .status-pill {
      font-size: 10px; border: 1px solid var(--ok); color: var(--ok);
      padding: 2px 6px; border-radius: 2px; background: rgba(51, 255, 136, 0.1);
      animation: blink 2s infinite;
      white-space: nowrap;
    }

    /* MAIN DASHBOARD GRID */
    main { padding-top: 90px; padding-bottom: 40px; }
    
    .dash-grid {
      display: grid;
      grid-template-columns: 250px 1fr 300px;
      gap: 1.5rem;
      align-items: start;
    }

    /* PANELS */
    .panel {
      background: var(--bg-panel);
      border: 1px solid var(--border);
      padding: 1.2rem;
      backdrop-filter: var(--glass);
      position: relative;
    }
    /* HUD Corners */
    .panel::before, .panel::after {
      content: ''; position: absolute; width: 6px; height: 6px; transition: 0.3s;
      border-color: var(--fg-dim); border-style: solid;
    }
    .panel::before { top: -1px; left: -1px; border-width: 1px 0 0 1px; }
    .panel::after { bottom: -1px; right: -1px; border-width: 0 1px 1px 0; }
    .panel:hover { border-color: var(--border-active); }
    .panel:hover::before, .panel:hover::after { border-color: var(--gold); }

    .panel-header {
      display: flex; justify-content: space-between; align-items: center;
      margin-bottom: 1rem; border-bottom: 1px solid rgba(255,255,255,0.05);
      padding-bottom: 0.5rem;
    }
    .p-title { font-size: 0.7rem; color: var(--gold); }

    /* SIDEBAR NAV */
    .side-nav a {
      display: block; padding: 0.8rem 1rem;
      border-left: 2px solid transparent;
      color: var(--fg-muted); font-size: 0.85rem;
      transition: 0.2s;
      background: linear-gradient(90deg, transparent, transparent);
    }
    .side-nav a:hover, .side-nav a.active {
      border-left-color: var(--gold);
      color: var(--fg);
      background: linear-gradient(90deg, rgba(212, 175, 55, 0.05), transparent);
    }

    /* METRIC CARDS */
    .metric-big { font-size: 2.2rem; font-weight: 400; line-height: 1; }
    .metric-label { font-size: 0.7rem; color: var(--fg-dim); margin-top: 5px; }
    
    .chart-placeholder {
      height: 100px; width: 100%;
      background: repeating-linear-gradient(90deg, transparent 0 19%, rgba(255,255,255,0.03) 20%);
      border-bottom: 1px solid var(--border);
      position: relative;
      overflow: hidden;
    }
    .chart-line {
      position: absolute; bottom: 0; left: 0; height: 50%; width: 100%;
      background: linear-gradient(90deg, transparent, var(--gold-dim));
      clip-path: polygon(0 100%, 10% 80%, 20% 90%, 30% 60%, 40% 70%, 50% 40%, 60% 50%, 70% 20%, 80% 30%, 90% 10%, 100% 0, 100% 100%);
    }

    /* LOG TERMINAL */
    .log-feed {
      height: 200px; overflow-y: hidden;
      font-size: 0.75rem; display: flex; flex-direction: column-reverse;
    }
    .log-line {
      padding: 4px 0; border-bottom: 1px solid rgba(255,255,255,0.02);
      animation: slideIn 0.2s ease-out;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .log-ts { color: var(--fg-dim); margin-right: 8px; }

    /* NODES LIST */
    .node-row {
      display: flex; justify-content: space-between; align-items: center;
      padding: 0.8rem 0; border-bottom: 1px solid rgba(255,255,255,0.03);
    }
    .node-status {
      width: 6px; height: 6px; background: var(--fg-dim); border-radius: 50%;
    }
    .node-status.active { background: var(--gold); box-shadow: 0 0 8px var(--gold); }

    /* ANIMATIONS */
    @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.4; } }
    @keyframes slideIn { from { opacity: 0; transform: translateX(-10px); } to { opacity: 1; transform: translateX(0); } }

    /* MOBILE OPTIMIZATION - THE FIX */
    @media (max-width: 1024px) {
      .dash-grid { grid-template-columns: 1fr; }
      
      .side-nav { 
        display: flex; 
        overflow-x: auto; 
        margin-bottom: 1rem;
        white-space: nowrap;
        gap: 1rem;
      }
      .side-nav a { border-left: none; border-bottom: 2px solid transparent; padding: 0.5rem; }
      .side-nav a:hover, .side-nav a.active { border-left: none; border-bottom-color: var(--gold); }
      
      /* HUD LINES HIDE ON MOBILE */
      .hud-line { display: none; }
      
      /* HEADER FIXES */
      header { height: auto; padding: 10px 0; }
      .top-bar { flex-wrap: wrap; gap: 0.5rem; }
      
      .brand-area { width: 100%; justify-content: space-between; }
      .mobile-status-move { display: block; } /* Move status to top row */
      
      .clock-area { 
        width: 100%; 
        justify-content: space-between; 
        border-top: 1px solid rgba(255,255,255,0.05); 
        padding-top: 0.5rem;
        margin-top: 0.2rem;
      }
      
      .clock-label { display: none; } /* Hide "GRID CLOCK" text on mobile */
      .desktop-status { display: none; } /* Hide duplicate status */
    }
  </style>
</head>
<body>

  <div class="noise"></div>
  <canvas id="radar-canvas"></canvas>
  
  <div class="hud-line hud-v" style="left: 250px;"></div>
  <div class="hud-line hud-v" style="right: 300px;"></div>
  <div class="hud-line hud-h" style="top: 70px;"></div>

  <header>
    <div class="wrapper top-bar">
      
      <div class="brand-area">
        <div style="display:flex; align-items:center; gap:1rem;">
          <div class="text-gold serif" style="font-size:1.2rem;">⦿</div>
          <div>
            <div class="serif caps" style="line-height:1;">Kryonis Portal</div>
            <div class="mono caps text-dim" style="font-size:0.65rem;">Sovereign Operations</div>
          </div>
        </div>
        <div class="status-pill mobile-status-move" style="display:none;">NOMINAL</div>
      </div>
      
      <div class="clock-area mono caps">
        <div style="text-align:right; display:flex; gap:1rem; align-items:center; width:100%; justify-content:flex-end;">
          <div class="clock-label" style="font-size:0.7rem; color:var(--fg-dim);">GRID CLOCK</div>
          <div id="clock">00:00:00 UTC</div>
        </div>
        <div class="status-pill desktop-status">SYSTEM NOMINAL</div>
      </div>

    </div>
  </header>

  <main class="wrapper">
    <div class="dash-grid">
      
      <nav class="panel side-nav mono caps">
        <a href="#" class="active">Overview</a>
        <a href="#">K-Pulse</a>
        <a href="#">Lattice</a>
        <a href="#">PoC Data</a>
        <a href="#">Lethe</a>
        <a href="https://kryonis.global" target="_blank" style="color:var(--gold);">Global ↗</a>
      </nav>

      <div style="display:flex; flex-direction:column; gap:1.5rem;">
        
        <div class="panel">
          <div class="panel-header mono caps">
            <span class="p-title">Global Coherence Index (GCI)</span>
            <span class="text-tech">LIVE</span>
          </div>
          <div style="display:grid; grid-template-columns: repeat(3, 1fr); gap:1rem; text-align:center;">
            <div>
              <div class="metric-big serif text-gold">98.4</div>
              <div class="metric-label mono caps">Integrity</div>
            </div>
            <div>
              <div class="metric-big serif">7</div>
              <div class="metric-label mono caps">Nodes</div>
            </div>
            <div>
              <div class="metric-big serif text-ok">0.02s</div>
              <div class="metric-label mono caps">Latency</div>
            </div>
          </div>
          <div class="chart-placeholder" style="margin-top:1.5rem;">
            <div class="chart-line"></div>
          </div>
        </div>

        <div class="panel">
           <div class="panel-header mono caps">
             <span class="p-title">Active Node Status</span>
           </div>
           <div class="mono" style="font-size:0.85rem;">
             <div class="node-row">
               <span>ARCTICA-01 (Bio)</span>
               <span class="node-status active"></span>
             </div>
             <div class="node-row">
               <span>ORBITAL (Sim)</span>
               <span class="node-status active"></span>
             </div>
             <div class="node-row">
               <span>PACIFIC-RIM (Gov)</span>
               <span class="node-status" style="background:#ffaa00; box-shadow:none;"></span>
             </div>
             <div class="node-row">
               <span>URBAN-CORE (Cog)</span>
               <span class="node-status active"></span>
             </div>
           </div>
        </div>

      </div>

      <div style="display:flex; flex-direction:column; gap:1.5rem;">
        
        <div class="panel">
          <div class="panel-header mono caps">
             <span class="p-title">Alerts</span>
          </div>
          <div style="font-size:0.8rem;">
             <div style="padding:0.8rem; border:1px solid rgba(255,50,50,0.3); background:rgba(255,50,50,0.05); margin-bottom:0.5rem;">
               <span class="text-alert mono caps">! ANOMALY DETECTED</span><br>
               <span class="text-dim">Sector 4 decoherence spike.</span>
             </div>
             <div style="padding:0.8rem; border:1px solid var(--border);">
               <span class="text-tech mono caps">INFO</span><br>
               <span class="text-dim">New protocol update queued.</span>
             </div>
          </div>
        </div>

        <div class="panel" style="flex-grow:1;">
          <div class="panel-header mono caps">
             <span class="p-title">Audit Stream</span>
          </div>
          <div class="log-feed mono" id="log-container">
            </div>
        </div>

      </div>

    </div>
  </main>

  <script>
    // 1. CLOCK
    function updateClock() {
      const now = new Date();
      document.getElementById('clock').innerText = now.toISOString().split('.')[0].replace('T', ' ') + ' UTC';
    }
    setInterval(updateClock, 1000);
    updateClock();

    // 2. RADAR CANVAS (The Pulse)
    const canvas = document.getElementById('radar-canvas');
    const ctx = canvas.getContext('2d');
    let width, height;
    let scanY = 0;

    function resize() {
      width = canvas.width = window.innerWidth;
      height = canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resize);
    resize();

    function animateRadar() {
      ctx.clearRect(0, 0, width, height);

      // Moving scanline
      scanY += 2;
      if (scanY > height) scanY = 0;

      // Draw Scanline
      ctx.beginPath();
      ctx.moveTo(0, scanY);
      ctx.lineTo(width, scanY);
      ctx.strokeStyle = "rgba(212, 175, 55, 0.15)";
      ctx.lineWidth = 2;
      ctx.stroke();

      // Draw "Echo" behind scanline
      ctx.fillStyle = "rgba(212, 175, 55, 0.02)";
      ctx.fillRect(0, scanY - 50, width, 50);

      // Random static blips
      if (Math.random() > 0.9) {
        const x = Math.random() * width;
        const y = Math.random() * height;
        ctx.fillStyle = "rgba(255, 255, 255, 0.1)";
        ctx.fillRect(x, y, 2, 2);
      }

      requestAnimationFrame(animateRadar);
    }
    animateRadar();

    // 3. AUDIT LOG SIMULATOR
    const logs = [
      "Handshake: Node ARCTICA-01",
      "PoC metric verification: OK",
      "Telemetry stream: 4055/s",
      "Governance: SYNCHRONIZED",
      "Lethe Protocol: Indexing...",
      "Identity check: SOVEREIGN",
      "Warning: Latency Sector 7",
      "Re-routing neural pathways",
      "K-Pulse heartbeat: NOMINAL"
    ];

    const logContainer = document.getElementById('log-container');

    function addLog() {
      const msg = logs[Math.floor(Math.random() * logs.length)];
      const time = new Date().toISOString().split('T')[1].split('.')[0].split(':')[1] + ":" + new Date().getSeconds(); 
      
      const div = document.createElement('div');
      div.className = 'log-line';
      div.innerHTML = `<span class="log-ts">[${time}]</span> ${msg}`;
      
      logContainer.prepend(div);
      
      if (logContainer.children.length > 8) {
        logContainer.removeChild(logContainer.lastChild);
      }
      
      setTimeout(addLog, Math.random() * 2000 + 500);
    }
    addLog();

    // Responsive check to toggle mobile status visibility
    function checkMobile() {
      const isMobile = window.innerWidth <= 1024;
      document.querySelector('.mobile-status-move').style.display = isMobile ? 'block' : 'none';
      document.querySelector('.desktop-status').style.display = isMobile ? 'none' : 'block';
    }
    window.addEventListener('resize', checkMobile);
    checkMobile();

  </script>
</body>
</html>
